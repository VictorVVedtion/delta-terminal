#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-commit checks..."

# Run type check on backend
echo "ğŸ“¦ Checking backend types..."
cd backend/ai-orchestrator && npm run build --silent 2>&1 || {
  echo "âŒ Backend TypeScript compilation failed!"
  exit 1
}
cd ../..

# Run type check on frontend
echo "ğŸ“¦ Checking frontend types..."
cd frontend/web-app && npm run type-check --silent 2>&1 || {
  echo "âŒ Frontend TypeScript compilation failed!"
  exit 1
}
cd ../..

echo "âœ… All pre-commit checks passed!"
